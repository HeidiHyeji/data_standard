ë‹¨ìˆœíˆ **ë²¡í„° ìœ ì‚¬ë„ê°€ ë†’ì€ ê²ƒì„ ì°¾ëŠ” ë°©ì‹**ë„ ê¸°ë³¸ì ìœ¼ë¡œëŠ” ì¶©ë¶„íˆ ê°€ëŠ¥í•˜ì§€ë§Œ,
ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ì˜ **í’ˆì§ˆê³¼ ì •í™•ì„±**ì„ ë†’ì´ê¸° ìœ„í•´ **í•œ ë‹¨ê³„ ë” ë°œì „ëœ ë°©ë²•**ì„ ê³ ë ¤í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

---

## ğŸš© ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ì„ ìœ„í•œ ê¸°ë³¸ ì›ë¦¬ (ê°„ëµí•œ ì¬ì •ë¦¬)

ê¸°ë³¸ì ìœ¼ë¡œëŠ”,

> í‘œì¤€ ë°ì´í„°(ë©”íƒ€ë°ì´í„°) â†” ì‚¬ìš©ìì˜ ì…ë ¥ ë°ì´í„°(ë©”íƒ€ë°ì´í„°)

ë¥¼ ë²¡í„° ì„ë² ë”©ìœ¼ë¡œ ë³€í™˜ í›„, ìœ ì‚¬ë„ë¥¼ ê³„ì‚°í•˜ì—¬ ì¶”ì²œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

* ì´ ë°©ì‹ì€ ë‹¨ìˆœí•˜ê³  ë¹ ë¥´ê²Œ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤.
* ê·¸ëŸ¬ë‚˜ ì¢€ ë” ì •í™•í•˜ê³  ê²¬ê³ í•œ ì¶”ì²œì„ ìœ„í•´ì„œëŠ” ë‹¤ì–‘í•œ **ë¶€ê°€ì ì¸ ìš”ì†Œ**ë“¤ì„ í¬í•¨í•˜ë©´ ì¢‹ìŠµë‹ˆë‹¤.

---

## ğŸš€ ë³´ë‹¤ ì •í™•í•œ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ ì ‘ê·¼ ë°©ë²• (ë°œì „í˜•)

ì•„ë˜ ë°©ë²•ë“¤ì„ ë²¡í„° ìœ ì‚¬ë„ ë°©ì‹ê³¼ ê²°í•©í•˜ë©´ ë”ìš± ê°•ë ¥í•œ ì¶”ì²œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### âœ… (1) ì„ë² ë”© ë°©ë²• ê³ ë„í™”í•˜ê¸°

* **OpenAI Embedding API (`text-embedding-3-small`, `text-embedding-ada-002`)**

  * ìµœì‹  GPT ì„ë² ë”©ì„ í†µí•´ ì˜ë¯¸ì  ìœ ì‚¬ì„±ì„ ë”ìš± ì •í™•í•˜ê²Œ í‰ê°€í•  ìˆ˜ ìˆìŒ.
* **SentenceTransformer (`all-MiniLM-L6-v2`, `paraphrase-multilingual-MiniLM-L12-v2`)**

  * ë¬¸ì¥ ìˆ˜ì¤€ì—ì„œì˜ ë¬¸ë§¥ì  ìœ ì‚¬ë„ë¥¼ ë” ì˜ ë°˜ì˜í•˜ëŠ” ì„ë² ë”©.

*ê¶Œì¥: OpenAI Embedding APIë¡œ ìµœì‹  ì˜ë¯¸ ì„ë² ë”©ì„ í™œìš©.*

### âœ… (2) ë²¡í„° ìœ ì‚¬ë„ ì¸¡ì • ê³ ë„í™”í•˜ê¸°

* ì¼ë°˜ì ì¸ ì½”ì‚¬ì¸ ìœ ì‚¬ë„(cosine similarity) ëŒ€ì‹ ì— **weighted cosine similarity**(ê°€ì¤‘ ì½”ì‚¬ì¸ ìœ ì‚¬ë„) ì‚¬ìš©.
* í•„ë“œ ì¤‘ìš”ë„, ë°ì´í„° ìœ í˜• ì¤‘ìš”ë„ ë“±ì„ ê°€ì¤‘ì¹˜ë¡œ í¬í•¨.

ì˜ˆì‹œ (ê°€ì¤‘ì¹˜ ì ìš© ì½”ì‚¬ì¸ ìœ ì‚¬ë„):

```python
import numpy as np

def weighted_cosine_similarity(vec1, vec2, weights):
    weighted_vec1 = vec1 * weights
    weighted_vec2 = vec2 * weights
    return np.dot(weighted_vec1, weighted_vec2) / (np.linalg.norm(weighted_vec1) * np.linalg.norm(weighted_vec2))
```

---

## ğŸ› ï¸ ì‹¤ì œ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ ì˜ˆì œ (ì‹¤ë¬´ì  ì½”ë“œ)

### ğŸ“Œ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ ì½”ë“œ (OpenAI API + FAISS ì‚¬ìš©):

```python
import openai
import faiss
import numpy as np

openai.api_key = "YOUR_API_KEY"

# í‘œì¤€ ë°ì´í„°ì…‹ ë©”íƒ€ë°ì´í„°
standard_metadata = [
    "ê³ ê° ì‹ë³„ ì½”ë“œ (Customer ID, Integer)",
    "ìƒí’ˆ ë¶„ë¥˜ ì½”ë“œ (Product Category Code, String)",
    "ê±°ë˜ì¼ì (Transaction Date, Date)"
]

# OpenAIë¡œ ì„ë² ë”© ìƒì„± í•¨ìˆ˜
def get_embedding(text):
    response = openai.Embedding.create(input=text, model="text-embedding-ada-002")
    return np.array(response['data'][0]['embedding'])

# í‘œì¤€ ë©”íƒ€ë°ì´í„° ì„ë² ë”©
standard_embeddings = np.array([get_embedding(text) for text in standard_metadata])

# FAISS ì¸ë±ìŠ¤ ìƒì„± ë° ì €ì¥
dimension = standard_embeddings.shape[1]
index = faiss.IndexFlatL2(dimension)
index.add(standard_embeddings)

# ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì‹ ê·œ ë°ì´í„° ë©”íƒ€ë°ì´í„°
user_metadata = "ì‚¬ìš©ì ID (User Identifier, Integer)"

# ì‹ ê·œ ë°ì´í„° ì„ë² ë”©
user_embedding = get_embedding(user_metadata).reshape(1, -1)

# ìœ ì‚¬í•œ í‘œì¤€ ë°ì´í„° ì¶”ì²œ (k=1)
distances, indices = index.search(user_embedding, k=1)
recommended_standard = standard_metadata[indices[0][0]]

print("ì¶”ì²œ í‘œì¤€ ë°ì´í„°:", recommended_standard)
```

---

## ğŸ“Œ ì¶”ì²œ ì„±ëŠ¥ì„ ë†’ì´ëŠ” ì¶”ê°€ ê¸°ë²• ì¶”ì²œ

ë‹¤ìŒ ê¸°ë²•ì„ ì¶”ê°€í•˜ë©´ ì¶”ì²œ ì •í™•ì„±ì„ ë”ìš± ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

| ë°©ë²•                      | ëª©ì                            | íš¨ê³¼                   |
| ----------------------- | ---------------------------- | -------------------- |
| **ì‚¬ìš©ì í–‰ë™ ê¸°ë°˜ í˜‘ì—… í•„í„°ë§**    | ì´ì „ ì‚¬ìš©ì ì„ íƒ ì´ë ¥ ë°ì´í„° í™œìš©          | ê³¼ê±° ì‚¬ìš©ìì˜ ì„ íƒì„ ë°˜ì˜í•œ ì¶”ì²œ   |
| **í•˜ì´ë¸Œë¦¬ë“œ ì¶”ì²œ** (í˜‘ì—…+ì½˜í…ì¸ ê¸°ë°˜) | ì„ë² ë”© ê¸°ë°˜ ì¶”ì²œ + ì‚¬ìš©ì í–‰ë™ ì¶”ì²œ í˜¼í•©     | ì´ˆê¸° ì¶”ì²œ ì •í™•ë„ ë° í›„ì† ì¶”ì²œ ê°œì„  |
| **ì‚¬ëŒì˜ í‰ê°€ í”¼ë“œë°±**          | ì‚¬ëŒì´ ì¶”ì²œ ê²°ê³¼ë¥¼ í‰ê°€í•˜ê³  ì ìˆ˜ ë¶€ì—¬ (ê°•í™”í•™ìŠµ) | ì§€ì†ì  ì¶”ì²œ í’ˆì§ˆ í–¥ìƒ         |

---

## ğŸ“Œ ìµœì¢… ê¶Œì¥ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ êµ¬ì„± (ì‹¤ì œ PoCìš©):

1. í‘œì¤€ ë° ì‚¬ìš©ì ë°ì´í„° ë©”íƒ€ë°ì´í„° â†’ **GPT/OpenAI ì„ë² ë”© ìƒì„±**
2. ì„ë² ë”© ë²¡í„° â†’ **FAISSë¥¼ ì´ìš©í•œ ë²¡í„° ìœ ì‚¬ë„ ì¶”ì²œ**
3. (ì¶”ê°€) ì¶”ì²œ ê²°ê³¼ì— ëŒ€í•´ **ì‚¬ëŒ í‰ê°€ í”¼ë“œë°±ì„ ë°›ì•„ ì¶”ì²œ í’ˆì§ˆ ê°œì„ **

ì´ êµ¬ì„±ì´ë¼ë©´ PoCë¡œì„œ ì¶©ë¶„í•œ í’ˆì§ˆê³¼ ì‹ ë¢°ì„±ì„ í™•ë³´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ¯ ê²°ë¡ 

* ë‹¨ìˆœ ë²¡í„° ìœ ì‚¬ë„ ë°©ì‹ë„ ì¶©ë¶„íˆ ê°€ëŠ¥í•œ ë°©ì‹ì´ë‚˜,
* **OpenAI Embedding API**, **FAISS ì¸ë±ìŠ¤**, **ê°€ì¤‘ì¹˜ ìœ ì‚¬ë„**, **í”¼ë“œë°± ë£¨í”„**ë¥¼ í™œìš©í•˜ë©´
  ë”ìš± ì‹ ë¢°í•  ìˆ˜ ìˆê³  ì‹¤ë¬´ì ìœ¼ë¡œ ì •í™•í•œ ì¶”ì²œ ì‹œìŠ¤í…œì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
